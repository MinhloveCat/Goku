import pandas as pd
from tabulate import tabulate

df = pd.read_csv('students_data.csv', encoding='utf-8-sig', sep='|')
danh_sach = df.to_dict('records')
print(danh_sach)

def find_students():
    print("1. Tìm kiếm theo mã sinh viên")
    print("2. Tìm kiếm theo tên sinh viên")
    print("3. Tìm kiếm theo ngày sinh sinh viên: ")
    print("4. Tìm kiếm theo điểm sinh viên")
    option = int(input("Hãy chọn phương án tìm kiếm (Nhập số trước mỗi lựa chọn): "))
    while True:
        if option < 1 or option > 4:
            print("Không có lựa chọn đó, hãy nhập lại")
            break
        else:
            result_find = []
            if option == 1:
                find_msv = input("Hãy nhập mã sinh viên: ")
                for msv in danh_sach:
                    if msv['MSSV'] == find_msv:
                        result_find.append(msv)
            elif option == 2:
                find_name = input("Hãy nhập tên sinh viên: ")
                for name in danh_sach:
                    if name['Họ và tên'] == find_name:
                        result_find.append(name)
            elif option == 3:
                find_birth = input("Hãy nhập ngày sinh sinh viên: ")
                for birth in danh_sach:
                    if birth['Ngày sinh'] == find_birth:
                        result_find.append(birth)
            else:
                print("Hiện chưa phát triển tính năng")
                return None
        if result_find == []:
            print("Không tìm thấy sinh viên")
            return None
        else:
            headers = ["MSSV", "Họ và tên", "Ngày sinh", "Giới tính"]
            rows = [[student["MSSV"], student["Họ và tên"], student["Ngày sinh"], student["Giới tính"]] for student in result_find]
            print(tabulate(rows, headers=headers, tablefmt="grid"))
            return None
        return None
find_students()
